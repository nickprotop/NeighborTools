{
  "_instructions": "Copy this file to 'config.json' and update with your actual values",
  "_comment": "This file contains all user-configurable settings including secrets, business logic, and environment-specific configurations",
  "JwtSettings": {
    "SecretKey": "GENERATE_A_SECURE_256_BIT_JWT_SECRET_KEY_HERE_MINIMUM_32_CHARACTERS_LONG",
    "Issuer": "NeighborTools",
    "Audience": "NeighborTools-Users", 
    "ExpiresInMinutes": 480,
    "RefreshTokenExpiresInDays": 7
  },
  "ConnectionStrings": {
    "DefaultConnection": "server=localhost;port=3306;database=toolssharing;uid=toolsuser;pwd=YOUR_MYSQL_PASSWORD_HERE",
    "Redis": "localhost:6379,password=YOUR_REDIS_PASSWORD_HERE"
  },
  "Payment": {
    "DefaultCommissionRate": 0.10,
    "MinimumPayoutAmount": 10.00,
    "DefaultCurrency": "USD",
    "FrontendBaseUrl": "http://localhost:5000",
    "PayPal": {
      "ClientId": "YOUR_PAYPAL_SANDBOX_CLIENT_ID_HERE",
      "ClientSecret": "YOUR_PAYPAL_SANDBOX_CLIENT_SECRET_HERE",
      "Mode": "sandbox",
      "WebhookId": "YOUR_PAYPAL_PAYMENT_WEBHOOK_ID_HERE",
      "DisputeWebhookId": "YOUR_PAYPAL_DISPUTE_WEBHOOK_ID_HERE",
      "IsEnabled": true
    }
  },
  "EmailSettings": {
    "_Comment": "Configure your SMTP server settings. Leave SmtpServer empty to disable email sending (useful for development).",
    "_Examples": {
      "_Gmail": "SmtpServer: smtp.gmail.com, SmtpPort: 587, SmtpUsername: your-email@gmail.com, SmtpPassword: your-app-password",
      "_Outlook": "SmtpServer: smtp-mail.outlook.com, SmtpPort: 587, SmtpUsername: your-email@outlook.com, SmtpPassword: your-password",
      "_Other": "SmtpServer: your-smtp-server.com, SmtpPort: 587 (or 465 for SSL), SmtpUsername: your-username, SmtpPassword: your-password"
    },
    "SmtpServer": "",
    "SmtpPort": "587",
    "SmtpUsername": "",
    "SmtpPassword": "",
    "FromEmail": "noreply@neighbortools.com",
    "FromName": "NeighborTools"
  },
  "Frontend": {
    "BaseUrl": "http://localhost:5000"
  },
  "MinIO": {
    "_Comment": "MinIO object storage configuration for file uploads and user content",
    "_Instructions": "Configure MinIO settings. Endpoint should include port (e.g., 'localhost:9000')",
    "Endpoint": "localhost:9000", 
    "AccessKey": "minioadmin",
    "SecretKey": "YOUR_MINIO_PASSWORD_HERE",
    "Secure": false,
    "BucketName": "toolssharing-files"
  },
  "FraudDetection": {
    "DailyAmountLimit": 5000.00,
    "WeeklyAmountLimit": 15000.00,
    "MonthlyAmountLimit": 50000.00,
    "DailyTransactionLimit": 20,
    "WeeklyTransactionLimit": 100,
    "MonthlyTransactionLimit": 300,
    "HighRiskAmountThreshold": 2000.00,
    "CriticalRiskAmountThreshold": 5000.00,
    "BackAndForthThreshold": 3,
    "BackAndForthTimeWindow": "1.00:00:00",
    "RapidTransactionThreshold": 5,
    "RapidTransactionWindow": "00:15:00",
    "RoundAmountTolerance": 0.01,
    "StructuringThreshold": 10,
    "StructuringAmountThreshold": 10000.00,
    "VelocityRiskWeight": 0.30,
    "PatternRiskWeight": 0.25,
    "AmountRiskWeight": 0.20,
    "NetworkRiskWeight": 0.15,
    "BehaviorRiskWeight": 0.10,
    "AutoBlockRiskScore": 85.0,
    "ManualReviewRiskScore": 60.0,
    "MaxNetworkDepth": 3,
    "CircularTransactionMinCount": 3,
    "CircularTransactionWindow": "7.00:00:00"
  },
  "GDPR": {
    "ExportPath": "./exports",
    "DataRetentionPeriodYears": 7,
    "CookieConsentExpiryDays": 365,
    "PrivacyPolicyVersion": "1.0"
  },
  "SightEngine": {
    "_Comment": "Content moderation service configuration. Get API credentials from https://sightengine.com/",
    "_Instructions": "Set ApiUser and ApiSecret from your SightEngine dashboard. Leave empty to disable content moderation.",
    "ApiUser": "",
    "ApiSecret": "",
    "BaseUrl": "https://api.sightengine.com/1.0",
    "TimeoutSeconds": 30,
    "MaxRetries": 3,
    "EnableLogging": true,
    "EnableCaching": false,
    "CacheDurationMinutes": 60,
    "Models": {
      "Image": [
        "nudity-2.0",
        "wad",
        "offensive",
        "faces",
        "face-attributes",
        "celebrities",
        "text-content",
        "logo",
        "qr-content"
      ],
      "Text": [
        "text-content",
        "text-classification"
      ],
      "Video": [
        "nudity-2.0",
        "wad",
        "offensive"
      ]
    },
    "Thresholds": {
      "_Comment": "Comprehensive detection thresholds for all SightEngine models",
      "NudityThreshold": 0.5,
      "WeaponThreshold": 0.7,
      "AlcoholThreshold": 0.6,
      "DrugThreshold": 0.7,
      "OffensiveThreshold": 0.6,
      "ProfanityThreshold": 0.5,
      "TextContentThreshold": 0.5,
      "SexualThreshold": 0.5,
      "DiscriminatoryThreshold": 0.4,
      "InsultingThreshold": 0.5,
      "ViolentThreshold": 0.3,
      "ToxicThreshold": 0.5,
      "SelfHarmThreshold": 0.3
    },
    "Workflows": {
      "ImageModerationWorkflow": "",
      "TextModerationWorkflow": "",
      "VideoModerationWorkflow": "",
      "CustomWorkflows": {}
    }
  },
  "CascadedModeration": {
    "_Comment": "Two-stage content moderation configuration to reduce SightEngine API costs",
    "_Instructions": "Basic moderation runs first, SightEngine only called for content that passes basic checks",
    "EnableCascadedModeration": true,
    "SightEngineThreshold": "Severe",
    "AllowImagesWhenSightEngineUnavailable": false,
    "AllowVideosWhenSightEngineUnavailable": false,
    "SightEngineModels": [
      "text-content",
      "text-classification"
    ],
    "SightEngineTimeoutSeconds": 10
  },
  "RequestSecurity": {
    "_Comment": "Phase 1 Security: Request size limits and timeout protection per endpoint",
    "_SizeReference": "1KB=1024, 1MB=1048576, 5MB=5242880, 10MB=10485760, 50MB=52428800, 100MB=104857600",
    "EnableRequestSizeLimits": true,
    "EnableRequestTimeouts": true,
    "DefaultMaxRequestBodySize": 5242880,
    "RequestTimeout": "00:00:30",
    "EndpointLimits": {
      "/api/files/upload": 104857600,
      "/api/tools/upload-images": 52428800,
      "/api/bundles/upload-image": 10485760,
      "/api/user/profile-picture": 10485760,
      "/api/disputes/": 52428800,
      "/api/auth/login": 1024,
      "/api/auth/register": 5120,
      "/api/auth/": 2048,
      "/api/": 512000
    }
  },
  "IPSecurity": {
    "_Comment": "Phase 1 Security: IP blocking and geographic access control. Add ISO 3166-1 alpha-2 country codes to BlockedCountries (e.g. 'CN', 'RU') or AllowedCountries for whitelist mode. Add known malicious IPs to KnownMaliciousIPs array.",
    "EnableIPBlocking": true,
    "EnableGeolocation": true,
    "DefaultBlockDuration": "02:00:00",
    "TemporaryBlockDuration": "00:30:00",
    "ExtendedBlockDuration": "24:00:00",
    "PermanentBlockDuration": "365.00:00:00",
    "BlockedCountries": [
    ],
    "AllowedCountries": [
    ],
    "TrustedProxies": [
      "127.0.0.1",
      "::1",
      "10.0.0.0/8",
      "172.16.0.0/12",
      "192.168.0.0/16"
    ],
    "KnownMaliciousIPs": [
    ]
  },
  "SecurityHeaders": {
    "_Comment": "Phase 1 Security: HTTP security headers for enhanced protection",
    "EnableContentTypeOptions": true,
    "EnableFrameOptions": true,
    "EnableXSSProtection": true,
    "EnableContentSecurityPolicy": true,
    "EnableHSTS": true,
    "EnablePermissionsPolicy": true,
    "ReferrerPolicy": "strict-origin-when-cross-origin",
    "ContentSecurityPolicy": "default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https:; media-src 'none'; object-src 'none'; frame-src 'none';",
    "PermissionsPolicy": "geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=()",
    "HSTSMaxAge": 31536000,
    "HSTSIncludeSubDomains": true,
    "HSTSPreload": false,
    "CustomHeaders": {
      "_Usage": "Add custom security headers as key-value pairs, e.g. 'X-Custom-Header': 'value'"
    }
  },
  "RateLimit": {
    "_Comment": "Phase 2 Security: Advanced rate limiting with sliding window algorithm",
    "EnableRateLimiting": true,
    "SlidingWindowDuration": "00:15:00",
    "EnablePerUserLimiting": true,
    "EnablePerIPLimiting": true,
    "EndpointPolicies": {
      "/api/auth/login": {
        "RequestsPerWindow": 20,
        "WindowDuration": "00:15:00",
        "Priority": 3,
        "SkipForAdmins": false
      },
      "/api/auth/register": {
        "RequestsPerWindow": 10,
        "WindowDuration": "01:00:00",
        "Priority": 3,
        "SkipForAdmins": false
      },
      "/api/auth/reset-password": {
        "RequestsPerWindow": 5,
        "WindowDuration": "01:00:00",
        "Priority": 3,
        "SkipForAdmins": false
      },
      "/api/auth/refresh-token": {
        "RequestsPerWindow": 50,
        "WindowDuration": "01:00:00",
        "Priority": 2,
        "SkipForAdmins": false
      },
      "/api/admin/*": {
        "RequestsPerWindow": 1000,
        "WindowDuration": "01:00:00",
        "Priority": 1,
        "SkipForAdmins": true
      },
      "/api/*": {
        "RequestsPerWindow": 2000,
        "WindowDuration": "01:00:00",
        "PerUserRequestsPerWindow": 4000,
        "Priority": 1,
        "SkipForAdmins": false
      }
    },
    "GlobalLimits": {
      "RequestsPerHourPerIP": 20000,
      "RequestsPerHourPerUser": 10000,
      "RequestsPerDayPerIP": 100000,
      "AnonymousRequestsPerHour": 5000
    },
    "Penalties": {
      "FirstViolationBlock": "00:01:00",
      "SecondViolationBlock": "00:05:00",
      "RepeatedViolationBlock": "00:15:00",
      "ViolationTrackingWindow": "01:00:00",
      "ViolationMultiplier": 2.0,
      "MaximumBlockDuration": "01:00:00"
    },
    "DefaultEndpointLimit": {
      "RequestsPerWindow": 2000,
      "WindowDuration": "01:00:00",
      "Priority": 1,
      "SkipForAdmins": false
    }
  },
  "AuthenticationLogging": {
    "_Comment": "Phase 3 Security: Comprehensive authentication event logging and monitoring with real-time alerts",
    "EnableAuthenticationLogging": true,
    "LogSuccessfulLogins": true,
    "LogFailedLogins": true,
    "LogPasswordChanges": true,
    "LogAccountLockouts": true,
    "LogSuspiciousActivity": true,
    "LogSessionEvents": true,
    "LogTokenEvents": true,
    "EnableRealTimeAlerts": true,
    "AlertOnBruteForce": true,
    "AlertOnGeographicAnomalies": true,
    "AlertOnSessionHijacking": true,
    "AlertOnUnknownDevices": true,
    "AlertThresholdMinutes": 5,
    "MaxAlertsPerHour": 10,
    "NotificationRecipients": [],
    "EnableSlackNotifications": false,
    "SlackWebhookUrl": "",
    "EnableEmailNotifications": true,
    "EmailRecipients": [],
    "LogRetentionDays": 90,
    "CompressOldLogs": true,
    "CompressionThresholdDays": 30,
    "EnableMetrics": true,
    "EnableDashboard": true,
    "DashboardRefreshSeconds": 30
  },
  "SessionSecurity": {
    "_Comment": "Phase 3 Security: Enhanced session security with device fingerprinting and geographic validation",
    "EnableSessionSecurity": true,
    "MaxConcurrentSessions": 5,
    "EnableDeviceFingerprinting": true,
    "TerminateOnDeviceChange": false,
    "EnableGeographicValidation": true,
    "MaxTravelSpeedKmh": 1000,
    "MinLocationChangeIntervalMinutes": 30,
    "TerminateOnImpossibleTravel": true,
    "EnableHijackingDetection": true,
    "MaxIpChangesPerSession": 3,
    "TerminateOnSuspectedHijacking": true,
    "EnableTokenRotation": true,
    "TokenRotationIntervalMinutes": 15,
    "TokenGracePeriodMinutes": 5,
    "EnableSessionCleanup": true,
    "SessionCleanupIntervalHours": 24,
    "ExpiredSessionRetentionDays": 30,
    "SuspiciousSessionThreshold": 70.0,
    "TerminateSessionThreshold": 90.0,
    "EnableRealTimeMonitoring": true,
    "AlertAdminsForHighRisk": true,
    "ExemptIpRanges": [],
    "SuspiciousUserAgents": [
      "curl",
      "wget", 
      "python-requests",
      "PostmanRuntime"
    ],
    "RequireReauthForSensitiveOps": true,
    "SensitiveEndpoints": [
      "/api/auth/change-password",
      "/api/auth/delete-account", 
      "/api/payment/",
      "/api/admin/"
    ],
    "ReauthTimeoutMinutes": 5
  },
  "Geocoding": {
    "_Comment": "Location services configuration for geocoding providers",
    "_Instructions": "Configure geocoding providers. OpenStreetMap is free (no API key needed), HERE requires API key from developer.here.com",
    "DefaultProvider": "OpenStreetMap",
    "_ProviderOptions": "OpenStreetMap (free, rate limited) or HERE (paid, higher limits)",
    "OpenStreetMap": {
      "BaseUrl": "https://nominatim.openstreetmap.org",
      "UserAgent": "NeighborTools/1.0",
      "RequestsPerSecond": 1,
      "CacheDurationHours": 24,
      "TimeoutSeconds": 30,
      "DefaultLanguage": "en",
      "ContactEmail": ""
    },
    "HERE": {
      "_Instructions": "Get API key from developer.here.com",
      "BaseUrl": "https://geocode.search.hereapi.com/v1",
      "ApiKey": "YOUR_HERE_API_KEY_HERE",
      "RequestsPerSecond": 10,
      "CacheDurationHours": 24,
      "TimeoutSeconds": 30,
      "DefaultLanguage": "en",
      "MaxResults": 20,
      "IncludeAddressDetails": true,
      "IncludeMapView": true
    },
    "Security": {
      "_Comment": "Location search security settings to prevent triangulation attacks",
      "MaxSearchesPerHour": 50,
      "MaxSearchesPerTarget": 5,
      "MinSearchIntervalSeconds": 10,
      "EnableTriangulationDetection": true,
      "TriangulationMinDistanceKm": 1.0,
      "TriangulationTimeWindowHours": 24,
      "TriangulationMinSearchPoints": 3,
      "LogAllSearches": true,
      "SearchLogRetentionDays": 90
    },
    "Cache": {
      "_Comment": "Geocoding response caching to reduce API calls and improve performance",
      "Enabled": true,
      "DefaultDurationHours": 24,
      "PopularLocationDurationHours": 168,
      "ErrorCacheDurationMinutes": 15,
      "MaxCacheSize": 10000,
      "KeyPrefix": "geocoding:"
    }
  },
  "BruteForceProtection": {
    "_Comment": "Phase 3 Security: Advanced brute force detection with attack pattern analysis",
    "EnableBruteForceProtection": true,
    "MaxFailedAttemptsBeforeLockout": 5,
    "AccountLockoutDuration": "00:15:00",
    "ProgressiveLockoutMultiplier": 2.0,
    "MaxLockoutDuration": "24:00:00",
    "CaptchaThreshold": 3,
    "SequentialAttackThreshold": 5,
    "DistributedAttackThreshold": 10,
    "VelocityAttackThreshold": 3,
    "VelocityWindowMinutes": 1,
    "DetectionWindowMinutes": 15,
    "DataRetentionDays": 30,
    "EnableGeographicAnalysis": true,
    "EnableAttackPatternTracking": true,
    "EnableRealTimeBlocking": true,
    "WhitelistedIPs": [],
    "BlacklistedIPs": [],
    "AlertThresholds": {
      "HighRiskScore": 80.0,
      "CriticalRiskScore": 95.0,
      "AlertAdminsThreshold": 85.0
    }
  }
}
