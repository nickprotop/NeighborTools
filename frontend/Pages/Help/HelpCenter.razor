@page "/help"
@using MudBlazor
@using Microsoft.AspNetCore.Authorization
@attribute [AllowAnonymous]
@inject IJSRuntime JSRuntime

<PageTitle>Help Center - NeighborTools</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large" Class="mt-4">
    <div class="d-flex align-center mb-6">
        <MudIcon Icon="@Icons.Material.Filled.Help" Color="Color.Primary" Class="mr-3" Style="font-size: 3rem;" />
        <div>
            <MudText Typo="Typo.h3" Color="Color.Primary">Help Center</MudText>
            <MudText Typo="Typo.subtitle1" Color="Color.Secondary">Everything you need to know about NeighborTools</MudText>
        </div>
    </div>

    <MudGrid>
        <MudItem xs="12" md="3">
            <MudPaper Elevation="2" Class="pa-4" Style="position: sticky; top: 20px;">
                <MudText Typo="Typo.h6" Class="mb-3">Quick Navigation</MudText>
                <MudNavMenu>
                    <MudNavLink OnClick="@(() => ScrollToSection("getting-started"))" Icon="@Icons.Material.Filled.PlayArrow">Getting Started</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("for-renters"))" Icon="@Icons.Material.Filled.Person">For Renters</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("for-owners"))" Icon="@Icons.Material.Filled.HomeWork">For Tool Owners</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("messaging"))" Icon="@Icons.Material.Filled.Message">Messaging System</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("payments"))" Icon="@Icons.Material.Filled.Payment">Payments & Billing</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("disputes"))" Icon="@Icons.Material.Filled.Report">Disputes & Issues</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("safety"))" Icon="@Icons.Material.Filled.Security">Safety & Trust</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("legal"))" Icon="@Icons.Material.Filled.Gavel">Legal & Terms</MudNavLink>
                    <MudNavLink OnClick="@(() => ScrollToSection("faq"))" Icon="@Icons.Material.Filled.QuestionAnswer">FAQ</MudNavLink>
                </MudNavMenu>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="9">
            <!-- Getting Started Section -->
            <div id="getting-started">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.PlayArrow" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Getting Started</MudText>
                    </div>

                    <MudText Typo="Typo.h6" Class="mb-3">What is NeighborTools?</MudText>
                    <MudText Typo="Typo.body1" Class="mb-4">
                        NeighborTools is a peer-to-peer tool sharing platform that connects tool owners with people who need to borrow tools. 
                        Whether you're a homeowner with a garage full of tools or someone who needs a specific tool for a weekend project, 
                        NeighborTools makes it easy to share and access tools in your community.
                    </MudText>

                    <MudText Typo="Typo.h6" Class="mb-3">How It Works - Complete Flow</MudText>
                    <MudTimeline>
                        <MudTimelineItem Color="Color.Primary" Icon="@Icons.Material.Filled.Search">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">1. Browse & Request</MudText>
                            <MudText Typo="Typo.body2">Find tools, select dates, and submit rental request with project details</MudText>
                        </MudTimelineItem>
                        <MudTimelineItem Color="Color.Warning" Icon="@Icons.Material.Filled.HourglassEmpty">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">2. Await Approval</MudText>
                            <MudText Typo="Typo.body2">Owner reviews your request and approves/rejects within 24 hours</MudText>
                        </MudTimelineItem>
                        <MudTimelineItem Color="Color.Success" Icon="@Icons.Material.Filled.Payment">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">3. Pay After Approval</MudText>
                            <MudText Typo="Typo.body2">Complete secure PayPal payment only after owner approval</MudText>
                        </MudTimelineItem>
                        <MudTimelineItem Color="Color.Primary" Icon="@Icons.Material.Filled.LocalShipping">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">4. Owner Dispatches</MudText>
                            <MudText Typo="Typo.body2">Owner marks tool as dispatched and coordinates pickup details</MudText>
                        </MudTimelineItem>
                        <MudTimelineItem Color="Color.Info" Icon="@Icons.Material.Filled.Build">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">5. Use & Monitor</MudText>
                            <MudText Typo="Typo.body2">Use tool safely for your project while system monitors return deadline</MudText>
                        </MudTimelineItem>
                        <MudTimelineItem Color="Color.Success" Icon="@Icons.Material.Filled.AssignmentReturn">
                            <MudText Typo="Typo.subtitle2" Class="mb-1">6. Return & Complete</MudText>
                            <MudText Typo="Typo.body2">Return tool, owner confirms condition, deposit refunded, leave reviews</MudText>
                        </MudTimelineItem>
                    </MudTimeline>
                    
                    <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.AutoAwesome" Class="mt-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">✨ What Makes Our Flow Special</MudText>
                        <ul>
                            <li><strong>No Pre-Payment Confusion:</strong> Pay only after owner approval, never upfront</li>
                            <li><strong>Smart Progress Tracking:</strong> Clear progress bars and status messages throughout</li>
                            <li><strong>Intelligent Actions:</strong> Context-aware buttons for what you can do at each step</li>
                            <li><strong>Owner Dispatch Control:</strong> Owners actively manage pickup and return process</li>
                            <li><strong>Automatic Overdue Detection:</strong> System monitors deadlines and protects both parties</li>
                        </ul>
                    </MudAlert>
                </MudPaper>
            </div>

            <!-- For Renters Section -->
            <div id="for-renters">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Person" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">For Renters</MudText>
                    </div>

                    <MudExpansionPanels Elevation="2" Class="mb-4">
                        <MudExpansionPanel IsInitiallyExpanded="true">
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Search" Class="mr-3" />
                                    <MudText>Finding Tools</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Search by Category:</strong> Use the category filters to browse tools by type (Power Tools, Hand Tools, Garden Tools, etc.)
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Location-Based Results:</strong> Tools are sorted by proximity to ensure convenient pickup
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Advanced Filters:</strong> Filter by price range, availability dates, and tool condition
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Detailed Listings:</strong> Each tool includes photos, specifications, owner ratings, and pickup location
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.CalendarToday" Class="mr-3" />
                                    <MudText>Complete Rental Flow - Step by Step</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.h6" Class="mb-3">🔄 Your Rental Journey</MudText>
                                
                                <!-- Step 1: Pending -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Warning" Text="Step 1" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Pending - Waiting for Approval</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Your rental request is sent to the tool owner for review
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Waiting for owner approval" with urgency indicators
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ✅ Cancel (free), 📝 View Details, 💬 Message Owner
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Timeline:</strong> Most owners respond within 24 hours
                                    </MudText>
                                </div>

                                <!-- Step 2: Approved -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Success" Text="Step 2" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Approved - Payment Required</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Owner approves your request, payment is now required to proceed
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Approved! Payment required to proceed" with progress indicators
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> 💳 Pay Now (secure PayPal), ❌ Cancel (with warning)
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Payment Details:</strong> Rental fee + security deposit + 5% platform fee via PayPal
                                    </MudText>
                                </div>

                                <!-- Step 3: PickedUp -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Primary" Text="Step 3" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>PickedUp - Tool in Your Possession</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Owner marks tool as dispatched, you have the tool for your project
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Tool in your possession - enjoy your project!" with return countdown
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> 📝 View Details, 📞 Contact Owner, 🔄 Request Extension
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Important:</strong> Return on time to avoid late fees and maintain good standing
                                    </MudText>
                                </div>

                                <!-- Step 4: Returned -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Info" Text="Step 4" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Returned - Awaiting Confirmation</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> You return the tool, waiting for owner to confirm receipt and condition
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Tool returned - waiting for owner confirmation"
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> 📝 View Details, 💬 Message Owner about return
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Security Deposit:</strong> Will be refunded within 48 hours after confirmation
                                    </MudText>
                                </div>

                                <!-- Step 5: Completed -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Success" Text="Step 5" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Completed - Rental Finished</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Owner confirms return, security deposit refunded, rental complete
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Rental completed successfully!" with success indicators
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ⭐ Leave Review, 📄 Download Receipt, 🔄 Rent Again
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Community:</strong> Reviews help other users and build trust in the platform
                                    </MudText>
                                </div>

                                <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.Lightbulb" Class="mt-3">
                                    <MudText Typo="Typo.subtitle2" Class="mb-1">🎯 Smart Features You'll Love</MudText>
                                    <ul>
                                        <li><strong>Progress Indicators:</strong> Clean progress bars show exactly where you are in the process</li>
                                        <li><strong>Smart Status Messages:</strong> Time-aware updates like "Due in 2 days" or "Payment required"</li>
                                        <li><strong>Action-Oriented Interface:</strong> Clear buttons for what you can do at each step</li>
                                        <li><strong>Intelligent Cancellation:</strong> Different options based on rental status and payment</li>
                                        <li><strong>Flow Explanation:</strong> Automatic popup after booking explains the entire process</li>
                                    </ul>
                                </MudAlert>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.LocalShipping" Class="mr-3" />
                                    <MudText>Pickup & Return Process</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Pickup Coordination:</strong> Contact the owner to arrange pickup time and location details
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Tool Inspection:</strong> Check the tool's condition before pickup and report any issues immediately
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Usage Guidelines:</strong> Follow all safety instructions and use tools only for intended purposes
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Return on Time:</strong> Return tools by the agreed date to avoid late fees and maintain good standing
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Return Condition:</strong> Clean tools and return in the same condition as received
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Extension" Class="mr-3" />
                                    <MudText>Extending Rentals</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>When to Extend:</strong> If you need more time, request an extension before the return date
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Availability Check:</strong> Extensions are subject to the tool's availability for the additional period
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Additional Payment:</strong> Extension fees are calculated automatically and charged immediately
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>
                    </MudExpansionPanels>

                    <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.Lightbulb" Class="mb-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">Renter Tips for Success</MudText>
                        <ul>
                            <li>Build a complete profile with photo and verification to increase approval rates</li>
                            <li>Read tool descriptions and owner requirements carefully</li>
                            <li>Communicate clearly and promptly with tool owners</li>
                            <li>Take photos of tool condition before and after use</li>
                            <li>Leave honest reviews to help the community</li>
                        </ul>
                    </MudAlert>
                </MudPaper>
            </div>

            <!-- For Tool Owners Section -->
            <div id="for-owners">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.HomeWork" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">For Tool Owners</MudText>
                    </div>

                    <MudExpansionPanels Elevation="2" Class="mb-4">
                        <MudExpansionPanel IsInitiallyExpanded="true">
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Add" Class="mr-3" />
                                    <MudText>Listing Your Tools</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Tool Information:</strong> Provide detailed descriptions including brand, model, condition, and specifications
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>High-Quality Photos:</strong> Upload clear photos from multiple angles to showcase your tools
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Competitive Pricing:</strong> Set fair daily/weekly rates based on tool value and local market
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Security Deposits:</strong> Set appropriate deposits to protect against damage or loss
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Availability Calendar:</strong> Keep your availability updated to avoid booking conflicts
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Settings" Class="mr-3" />
                                    <MudText>Rental Settings & Preferences</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Lead Time:</strong> Set minimum notice required for bookings (default 24 hours)
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Auto-Approval:</strong> Enable automatic approval for trusted renters or all requests
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Deposit Requirements:</strong> Configure security deposit amounts and policies
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Usage Restrictions:</strong> Specify any limitations or special requirements for your tools
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Pickup Preferences:</strong> Set your preferred pickup times and location details
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Assignment" Class="mr-3" />
                                    <MudText>Complete Owner Workflow - Your Journey</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.h6" Class="mb-3">🏠 Your Tool Owner Experience</MudText>
                                
                                <!-- Step 1: Notification -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Info" Text="Step 1" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>New Request Notification</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Receive instant notification when someone wants to rent your tool
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Where to find it:</strong> "Tool Rentals" tab in My Rentals page, email notification
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What to review:</strong> Renter profile, project details, rental dates, messaging history
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Response time:</strong> Responding within 24 hours improves your owner rating
                                    </MudText>
                                </div>

                                <!-- Step 2: Decision Phase -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Warning" Text="Step 2" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Approve or Reject Decision</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "New rental request awaiting your decision" with renter details
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ✅ Approve Request, ❌ Reject with Reason, 💬 Message Renter
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Approval considerations:</strong> Renter rating, profile completeness, project details, dates
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Rejection best practice:</strong> Provide helpful feedback or suggest alternative dates
                                    </MudText>
                                </div>

                                <!-- Step 3: Payment Received -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Success" Text="Step 3" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Payment Received & Ready for Dispatch</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Renter completes payment, you're ready to coordinate pickup
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Payment received - ready for pickup" with pickup coordination
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Key Action:</strong> 🚀 <strong>Mark Dispatched</strong> - Confirm tool pickup with optional notes
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Communication:</strong> Coordinate pickup time, location, and any special instructions
                                    </MudText>
                                </div>

                                <!-- Step 4: Tool Out -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Primary" Text="Step 4" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Tool Picked Up - Monitoring Return</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Tool is with renter, you monitor return deadline and condition
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Tool picked up - monitoring return" with countdown to due date
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ✅ Mark Returned, 💬 Check In with Renter, 📅 View Return Date
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Overdue handling:</strong> System automatically detects late returns for action
                                    </MudText>
                                </div>

                                <!-- Step 5: Return & Completion -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Info" Text="Step 5" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Tool Returned - Condition Assessment</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Renter returns tool, you inspect condition and confirm return
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ✅ Confirm Return, 📝 Add Condition Notes, 🚨 Report Damage
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Return Dialog:</strong> Comprehensive form for condition assessment and damage documentation
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Deposit handling:</strong> Security deposit released automatically unless damage reported
                                    </MudText>
                                </div>

                                <!-- Step 6: Completed -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Success" Text="Step 6" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Rental Completed - Payment Processed</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>What happens:</strong> Rental marked complete, your earnings processed for payout
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "Rental completed - payment processed" with earning details
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> ⭐ Leave Review for Renter, 💰 View Payout Details, 📄 Download Receipt
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Earnings:</strong> Rental fee minus 5% platform fee, automatic PayPal payout within 48 hours
                                    </MudText>
                                </div>

                                <!-- Overdue Management -->
                                <div class="mb-4">
                                    <div class="d-flex align-center mb-2">
                                        <MudChip T="string" Size="Size.Small" Color="Color.Error" Text="Overdue" Class="mr-2" />
                                        <MudText Typo="Typo.subtitle1"><strong>Overdue Tool Management</strong></MudText>
                                    </div>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Automatic Detection:</strong> System marks rentals overdue when return date passes
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Smart Status:</strong> "OVERDUE - Tool not returned on time" with escalation options
                                    </MudText>
                                    <MudText Typo="Typo.body2" Class="mb-2">
                                        <strong>Actions Available:</strong> 📞 Contact Renter, 🚨 Start Dispute, ✅ Mark Returned (if late return)
                                    </MudText>
                                    <MudText Typo="Typo.body2">
                                        <strong>Escalation:</strong> Dispute system helps resolve overdue situations with evidence support
                                    </MudText>
                                </div>

                                <MudAlert Severity="Severity.Success" Icon="@Icons.Material.Filled.TrendingUp" Class="mt-3">
                                    <MudText Typo="Typo.subtitle2" Class="mb-1">🎯 Enhanced Owner Experience</MudText>
                                    <ul>
                                        <li><strong>Status-Specific Actions:</strong> Different buttons and options based on current rental state</li>
                                        <li><strong>Smart Dispatch System:</strong> Easy "Mark Dispatched" functionality with pickup confirmation</li>
                                        <li><strong>Return Management:</strong> Comprehensive return dialogs with condition assessment</li>
                                        <li><strong>Overdue Protection:</strong> Automatic overdue detection with dispute escalation options</li>
                                        <li><strong>Earnings Transparency:</strong> Clear payout details and automatic payment processing</li>
                                        <li><strong>Communication Integration:</strong> Direct messaging from rental management interface</li>
                                    </ul>
                                </MudAlert>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Class="mr-3" />
                                    <MudText>Earning & Payouts</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Platform Commission:</strong> NeighborTools takes a 5% platform fee from successful rentals
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Automatic Payouts:</strong> Earnings are automatically transferred after successful rental completion
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>PayPal Integration:</strong> Set up your PayPal account for secure payment processing
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Deposit Handling:</strong> Security deposits are held and released automatically upon safe return
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Tax Reporting:</strong> Track your earnings for tax purposes through your dashboard
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>
                    </MudExpansionPanels>

                    <MudAlert Severity="Severity.Success" Icon="@Icons.Material.Filled.TrendingUp" Class="mb-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">Owner Tips for Maximum Earnings</MudText>
                        <ul>
                            <li>Keep tools well-maintained and clean for better reviews</li>
                            <li>Respond quickly to rental requests to boost your rating</li>
                            <li>Offer competitive pricing while protecting your investment</li>
                            <li>Use detailed photos and descriptions to attract more renters</li>
                            <li>Build relationships with reliable repeat customers</li>
                        </ul>
                    </MudAlert>
                </MudPaper>
            </div>

            <!-- Messaging System Section -->
            <div id="messaging">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Message" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Messaging System</MudText>
                    </div>

                    <MudExpansionPanels Elevation="2" Class="mb-4">
                        <MudExpansionPanel IsInitiallyExpanded="true">
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Send" Class="mr-3" />
                                    <MudText>How Messaging Works</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Secure Communication:</strong> Our messaging system allows safe communication between tool owners and renters
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>User Search:</strong> Find and message any verified user on the platform using the search autocomplete
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Context Tags:</strong> Messages can be linked to specific tools or rentals for better organization
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>File Attachments:</strong> Share photos, documents, and other files up to 10MB per file (max 5 files per message)
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Real-time Notifications:</strong> Receive instant notifications when you receive new messages
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Forum" Class="mr-3" />
                                    <MudText>Message Features</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Conversations View:</strong> Organized conversations with participants, last message preview, and unread indicators
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Message Statistics:</strong> Track total messages, unread count, sent messages, and conversation counts
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Advanced Filtering:</strong> Filter conversations by read/unread status or view all messages
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Search Functionality:</strong> Search through conversations and messages to find what you need
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Message Priority:</strong> Set message priority levels for important communications
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Link" Class="mr-3" />
                                    <MudText>Platform Integration</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Tool Details Integration:</strong> Message tool owners directly from any tool listing page
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Rental Context:</strong> Messages sent from rental pages are automatically tagged with rental information
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>User Profile Integration:</strong> Contact users directly from their profile pages
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Cross-Platform Access:</strong> Access your messages from any page using the navigation menu
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>
                    </MudExpansionPanels>

                    <MudAlert Severity="Severity.Warning" Icon="@Icons.Material.Filled.Security" Class="mb-4">
                        <MudText Typo="Typo.h6" Class="mb-2">⚖️ Important Legal Notice: Message Monitoring & Content Policy</MudText>
                        <MudText Typo="Typo.body2" Class="mb-3">
                            <strong>Automated Monitoring:</strong> All messages sent through our platform are automatically scanned and monitored 
                            for legal compliance, safety, and platform security purposes. This includes content analysis for prohibited materials 
                            and compliance with applicable laws and regulations.
                        </MudText>
                        <MudText Typo="Typo.body2" Class="mb-3">
                            <strong>Legal Compliance:</strong> Messages may be reviewed by automated systems and human moderators to ensure 
                            compliance with local, state, and federal laws. Suspicious content may be reported to appropriate authorities 
                            as required by law.
                        </MudText>
                        <MudText Typo="Typo.body2">
                            <strong>Privacy Notice:</strong> While we respect your privacy, by using our messaging system you consent to 
                            this monitoring for safety and legal compliance purposes. Messages are stored securely and accessed only 
                            as necessary for platform operation and legal obligations.
                        </MudText>
                    </MudAlert>

                    <MudAlert Severity="Severity.Error" Icon="@Icons.Material.Filled.Block" Class="mb-4">
                        <MudText Typo="Typo.h6" Class="mb-2">🚫 Prohibited Content - Strictly Banned</MudText>
                        <MudText Typo="Typo.body2" Class="mb-2">The following content is explicitly prohibited and will result in immediate account suspension and legal action:</MudText>
                        <MudGrid>
                            <MudItem xs="12" md="6">
                                <MudList T="string" Dense="true">
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Illegal Activities:</strong> Drug sales, weapon trafficking, fraud, money laundering</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Harmful Content:</strong> Threats, violence, harassment, hate speech, doxxing</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Exploitation:</strong> Any content involving minors, human trafficking, exploitation</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Intellectual Property:</strong> Copyright infringement, counterfeit goods, piracy</MudText>
                                    </MudListItem>
                                </MudList>
                            </MudItem>
                            <MudItem xs="12" md="6">
                                <MudList T="string" Dense="true">
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Financial Crimes:</strong> Tax evasion, insurance fraud, identity theft</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Platform Abuse:</strong> Spam, phishing, malware distribution, account manipulation</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Circumvention:</strong> Bypassing platform fees, off-platform payments, terms violations</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.Block">
                                        <MudText><strong>Adult Content:</strong> Pornography, sexual services, inappropriate material</MudText>
                                    </MudListItem>
                                </MudList>
                            </MudItem>
                        </MudGrid>
                    </MudAlert>

                    <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.Lightbulb" Class="mb-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">Messaging Best Practices</MudText>
                        <ul>
                            <li>Keep conversations professional and tool-rental focused</li>
                            <li>Be clear about pickup times, locations, and rental terms</li>
                            <li>Use file attachments to share tool manuals or condition photos</li>
                            <li>Respond promptly to maintain good community standing</li>
                            <li>Report any suspicious or inappropriate messages immediately</li>
                            <li>Use context tags to keep tool and rental discussions organized</li>
                        </ul>
                    </MudAlert>

                    <MudPaper Elevation="2" Class="pa-4" Style="background: linear-gradient(45deg, #f5f5f5, #fafafa);">
                        <div class="d-flex align-center mb-3">
                            <MudIcon Icon="@Icons.Material.Filled.Report" Color="Color.Warning" Class="mr-2" />
                            <MudText Typo="Typo.h6" Color="Color.Warning">Enforcement & Consequences</MudText>
                        </div>
                        <MudText Typo="Typo.body2" Class="mb-2">
                            <strong>First Violation:</strong> Warning and content removal with required acknowledgment
                        </MudText>
                        <MudText Typo="Typo.body2" Class="mb-2">
                            <strong>Serious Violations:</strong> Immediate account suspension and law enforcement notification
                        </MudText>
                        <MudText Typo="Typo.body2" Class="mb-2">
                            <strong>Legal Violations:</strong> Account termination, asset freezing, and full cooperation with authorities
                        </MudText>
                        <MudText Typo="Typo.body2">
                            <strong>Appeals Process:</strong> Wrongful suspensions may be appealed through our support system with evidence
                        </MudText>
                    </MudPaper>
                </MudPaper>
            </div>

            <!-- Payments & Billing Section -->
            <div id="payments">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Payment" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Payments & Billing</MudText>
                    </div>

                    <MudGrid>
                        <MudItem xs="12" md="6">
                            <MudText Typo="Typo.h6" Class="mb-3">Payment Security</MudText>
                            <MudText Typo="Typo.body1" Class="mb-3">
                                All payments are processed securely through PayPal, ensuring your financial information is protected. 
                                We never store payment details on our servers.
                            </MudText>

                            <MudText Typo="Typo.h6" Class="mb-3">Payment Structure</MudText>
                            <MudList T="string">
                                <MudListItem T="string" Icon="@Icons.Material.Filled.AttachMoney">
                                    <MudText><strong>Rental Fee:</strong> Based on daily/weekly rates set by owners</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Security">
                                    <MudText><strong>Security Deposit:</strong> Refundable deposit to protect against damage</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Business">
                                    <MudText><strong>Platform Fee:</strong> 5% service fee for secure transactions and support</MudText>
                                </MudListItem>
                            </MudList>
                        </MudItem>

                        <MudItem xs="12" md="6">
                            <MudText Typo="Typo.h6" Class="mb-3">Refund Policy</MudText>
                            <MudText Typo="Typo.body1" Class="mb-3">
                                <strong>Security Deposits:</strong> Automatically refunded within 48 hours after successful return
                            </MudText>
                            <MudText Typo="Typo.body1" Class="mb-3">
                                <strong>Cancellations:</strong> Full refund if cancelled 24+ hours before pickup
                            </MudText>
                            <MudText Typo="Typo.body1" Class="mb-3">
                                <strong>Owner Cancellations:</strong> Full refund with additional credit for inconvenience
                            </MudText>

                            <MudText Typo="Typo.h6" Class="mb-3">Payment Timeline</MudText>
                            <MudTimeline Orientation="Orientation.Vertical" TimelineAlign="TimelineAlign.Start">
                                <MudTimelineItem Size="Size.Small" Color="Color.Primary">
                                    <MudText Typo="Typo.caption">Payment due upon booking approval</MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Size="Size.Small" Color="Color.Primary">
                                    <MudText Typo="Typo.caption">Security deposit held during rental</MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Size="Size.Small" Color="Color.Primary">
                                    <MudText Typo="Typo.caption">Owner payout after successful return</MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Size="Size.Small" Color="Color.Primary">
                                    <MudText Typo="Typo.caption">Deposit refund within 48 hours</MudText>
                                </MudTimelineItem>
                            </MudTimeline>
                        </MudItem>
                    </MudGrid>
                </MudPaper>
            </div>

            <!-- Disputes & Issues Section -->
            <div id="disputes">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Report" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Disputes & Issues</MudText>
                    </div>

                    <MudText Typo="Typo.h6" Class="mb-3">When to Create a Dispute</MudText>
                    <MudGrid Class="mb-4">
                        <MudItem xs="12" md="4">
                            <MudPaper Elevation="2" Class="pa-4" Style="height: 100%;">
                                <div class="d-flex align-center mb-2">
                                    <MudIcon Icon="@Icons.Material.Filled.Schedule" Color="Color.Warning" Class="mr-2" />
                                    <MudText Typo="Typo.subtitle1">Late Returns</MudText>
                                </div>
                                <MudText Typo="Typo.body2">
                                    When tools are not returned by the agreed date, create a dispute to document the issue and seek resolution.
                                </MudText>
                            </MudPaper>
                        </MudItem>
                        <MudItem xs="12" md="4">
                            <MudPaper Elevation="2" Class="pa-4" Style="height: 100%;">
                                <div class="d-flex align-center mb-2">
                                    <MudIcon Icon="@Icons.Material.Filled.BrokenImage" Color="Color.Error" Class="mr-2" />
                                    <MudText Typo="Typo.subtitle1">Damage Issues</MudText>
                                </div>
                                <MudText Typo="Typo.body2">
                                    If tools are damaged during rental or returned in poor condition, disputes help resolve compensation.
                                </MudText>
                            </MudPaper>
                        </MudItem>
                        <MudItem xs="12" md="4">
                            <MudPaper Elevation="2" Class="pa-4" Style="height: 100%;">
                                <div class="d-flex align-center mb-2">
                                    <MudIcon Icon="@Icons.Material.Filled.ThumbDown" Color="Color.Info" Class="mr-2" />
                                    <MudText Typo="Typo.subtitle1">Service Issues</MudText>
                                </div>
                                <MudText Typo="Typo.body2">
                                    For communication problems, inaccurate listings, or other service-related concerns.
                                </MudText>
                            </MudPaper>
                        </MudItem>
                    </MudGrid>

                    <MudText Typo="Typo.h6" Class="mb-3">Dispute Process</MudText>
                    <MudStepper HeaderBadgeView="BadgeView.All" DisableAnimation="true">
                        <MudStep Title="Create Dispute">
                            <MudText>File a dispute within 48 hours of the incident with detailed description and evidence</MudText>
                        </MudStep>
                        <MudStep Title="Communication">
                            <MudText>Both parties can communicate through the dispute system to resolve issues directly</MudText>
                        </MudStep>
                        <MudStep Title="Admin Review">
                            <MudText>If needed, our support team reviews evidence and mediates a fair resolution</MudText>
                        </MudStep>
                        <MudStep Title="Resolution">
                            <MudText>Final decision implemented with appropriate refunds, compensation, or other remedies</MudText>
                        </MudStep>
                    </MudStepper>

                    <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.Timer" Class="mt-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">Important Timing</MudText>
                        <MudText Typo="Typo.body2">
                            Disputes must be created within 48 hours after return confirmation. This window ensures 
                            timely resolution while memories and evidence are fresh.
                        </MudText>
                    </MudAlert>
                </MudPaper>
            </div>

            <!-- Safety & Trust Section -->
            <div id="safety">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Security" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Safety & Trust</MudText>
                    </div>

                    <MudGrid>
                        <MudItem xs="12" md="6">
                            <MudText Typo="Typo.h6" Class="mb-3">User Verification</MudText>
                            <MudList T="string">
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Email">
                                    <MudText>Email verification required for all users</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Phone">
                                    <MudText>Phone number verification for enhanced security</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Badge">
                                    <MudText>Profile completion scoring and badges</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Reviews">
                                    <MudText>Community-driven rating and review system</MudText>
                                </MudListItem>
                            </MudList>

                            <MudText Typo="Typo.h6" Class="mb-3 mt-4">Tool Safety</MudText>
                            <MudText Typo="Typo.body1" Class="mb-2">
                                <strong>Safety First:</strong> Always read tool manuals and follow safety guidelines
                            </MudText>
                            <MudText Typo="Typo.body1" Class="mb-2">
                                <strong>Proper Equipment:</strong> Use appropriate safety gear (goggles, gloves, etc.)
                            </MudText>
                            <MudText Typo="Typo.body1">
                                <strong>Report Issues:</strong> Immediately report any safety concerns or malfunctions
                            </MudText>
                        </MudItem>

                        <MudItem xs="12" md="6">
                            <MudText Typo="Typo.h6" Class="mb-3">Fraud Prevention</MudText>
                            <MudList T="string">
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Shield">
                                    <MudText>Advanced fraud detection algorithms</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Speed">
                                    <MudText>Velocity limits on rental activity</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.MonitorHeart">
                                    <MudText>Continuous monitoring of suspicious patterns</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.Support">
                                    <MudText>24/7 support for security concerns</MudText>
                                </MudListItem>
                            </MudList>

                            <MudText Typo="Typo.h6" Class="mb-3 mt-4">Insurance & Protection</MudText>
                            <MudText Typo="Typo.body1" Class="mb-2">
                                <strong>Security Deposits:</strong> Financial protection for tool owners
                            </MudText>
                            <MudText Typo="Typo.body1" Class="mb-2">
                                <strong>Secure Payments:</strong> PayPal buyer/seller protection applies
                            </MudText>
                            <MudText Typo="Typo.body1">
                                <strong>Dispute Resolution:</strong> Fair mediation process for conflicts
                            </MudText>
                        </MudItem>
                    </MudGrid>
                </MudPaper>
            </div>

            <!-- Legal & Terms Section -->
            <div id="legal">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.Gavel" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Legal & Terms</MudText>
                    </div>

                    <MudAlert Severity="Severity.Warning" Icon="@Icons.Material.Filled.Gavel" Class="mb-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-2">Important Legal Notice</MudText>
                        <MudText Typo="Typo.body2">
                            NeighborTools is a marketplace platform that facilitates connections between tool owners and renters. 
                            We are not a party to rental agreements and do not own, rent, or lease tools directly.
                        </MudText>
                    </MudAlert>

                    <MudExpansionPanels Elevation="2">
                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Business" Class="mr-3" />
                                    <MudText>Platform Role & Responsibilities</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Marketplace Facilitator:</strong> NeighborTools provides a platform for users to connect, 
                                    communicate, and transact. We facilitate these interactions but do not participate as a contracting party.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Technology Services:</strong> We provide software, payment processing, communication tools, 
                                    and customer support to enable successful tool sharing experiences.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>No Tool Ownership:</strong> NeighborTools does not own, maintain, or warranty any tools 
                                    listed on the platform. Tool ownership and responsibility remain with individual users.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Limited Liability:</strong> Our liability is limited to the service fees collected. 
                                    We are not responsible for tool condition, safety, or rental agreement disputes.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Assignment" Class="mr-3" />
                                    <MudText>User Responsibilities</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Tool Owners:</strong> Responsible for tool safety, maintenance, accurate descriptions, 
                                    and compliance with local laws regarding tool rental and business licensing.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Renters:</strong> Responsible for safe tool usage, timely returns, payment of fees, 
                                    and compensation for any damage beyond normal wear and tear.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>All Users:</strong> Must comply with local laws, platform terms of service, 
                                    and maintain appropriate insurance coverage for their activities.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Verification:</strong> Users must provide accurate information and may be required 
                                    to verify identity for security and fraud prevention purposes.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Security" Class="mr-3" />
                                    <MudText>Insurance & Liability</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>User Insurance:</strong> Users are strongly encouraged to maintain appropriate 
                                    homeowners, renters, or business insurance that may cover tool-related activities.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Platform Limitations:</strong> NeighborTools does not provide insurance coverage 
                                    for tools, property damage, or personal injury related to tool usage.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Risk Assumption:</strong> Users participate at their own risk and are responsible 
                                    for evaluating the safety and suitability of tools and rental agreements.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Third-Party Services:</strong> Payment processing through PayPal may provide 
                                    certain buyer/seller protections subject to their terms and conditions.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <div class="d-flex align-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Policy" Class="mr-3" />
                                    <MudText>Dispute Resolution & Limitations</MudText>
                                </div>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Mediation Service:</strong> NeighborTools provides dispute resolution services 
                                    as a convenience, but final decisions are made at our discretion based on available evidence.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Limitation of Remedies:</strong> Platform remedies are limited to refunds, 
                                    account actions, and service credits. We cannot compel specific performance or award damages.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Legal Remedies:</strong> Users retain the right to pursue legal remedies directly 
                                    with other parties, but NeighborTools is not a party to such proceedings.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    <strong>Governing Law:</strong> Platform terms are governed by [Jurisdiction] law, 
                                    but rental agreements between users may be subject to different jurisdictions.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>
                    </MudExpansionPanels>

                    <MudAlert Severity="Severity.Info" Icon="@Icons.Material.Filled.Info" Class="mt-4">
                        <MudText Typo="Typo.subtitle2" Class="mb-1">Legal Advice Disclaimer</MudText>
                        <MudText Typo="Typo.body2">
                            This information is for general guidance only and does not constitute legal advice. 
                            Users should consult with qualified legal professionals regarding their specific 
                            circumstances, insurance needs, and local regulations.
                        </MudText>
                    </MudAlert>
                </MudPaper>
            </div>

            <!-- FAQ Section -->
            <div id="faq">
                <MudPaper Elevation="4" Class="pa-6 mb-6">
                    <div class="d-flex align-center mb-4">
                        <MudIcon Icon="@Icons.Material.Filled.QuestionAnswer" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                        <MudText Typo="Typo.h4" Color="Color.Primary">Frequently Asked Questions</MudText>
                    </div>

                    <MudExpansionPanels Elevation="2">
                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>How do I get started on NeighborTools?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Simply create an account, verify your email, and complete your profile. You can immediately 
                                    start browsing tools or list your own tools for rent. Adding a profile photo and description 
                                    helps build trust with the community.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>What if a tool breaks while I'm using it?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Stop using the tool immediately and contact the owner. Document the issue with photos. 
                                    Normal wear and tear is expected, but renters are responsible for damage beyond reasonable use. 
                                    Security deposits help cover repair costs, and disputes can be filed for resolution.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>How are payments and deposits handled?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    All payments are processed through PayPal for security. Renters pay the rental fee plus 
                                    security deposit upfront. Owners receive payment after successful rental completion. 
                                    Deposits are automatically refunded within 48 hours unless there are damage claims.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>What happens if I return a tool late?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Late returns may incur additional fees and affect your user rating. The system automatically 
                                    marks rentals as overdue, and owners can create disputes. Communication is key - contact 
                                    the owner immediately if you need an extension or encounter delays.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>Can I cancel a rental after booking?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Cancellations made 24+ hours before pickup receive full refunds. Later cancellations 
                                    may be subject to fees. If the owner cancels, you receive a full refund plus inconvenience 
                                    credit. Emergency cancellations are handled case-by-case.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>How do I report safety concerns or inappropriate behavior?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Safety is our top priority. Use the report feature on user profiles or rental pages, 
                                    or contact support directly. We investigate all reports promptly and take appropriate 
                                    action including account suspension when necessary.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>What makes a good tool listing?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Great listings include clear photos from multiple angles, detailed descriptions with 
                                    brand/model information, honest condition assessments, competitive pricing, and specific 
                                    pickup instructions. Responsive communication and fair policies also attract renters.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>Do I need special insurance to rent out my tools?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1">
                                    Check with your homeowners or renters insurance provider about coverage for tool rental activities. 
                                    Some policies may require notification or additional coverage. Consider the value of your tools 
                                    and potential liability when setting security deposits and rental terms.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>How does the messaging system work and what are the rules?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    Our messaging system allows secure communication between users with features like file attachments, 
                                    user search, and context tags linking messages to specific tools or rentals.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    <strong>Important:</strong> All messages are automatically monitored for legal compliance and safety. 
                                    Prohibited content includes illegal activities, harassment, fraud, adult content, and platform abuse.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    Violations can result in warnings, account suspension, or termination with law enforcement notification 
                                    for serious offenses. Keep conversations professional and tool-rental focused.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>

                        <MudExpansionPanel>
                            <TitleContent>
                                <MudText>Are my messages private or monitored?</MudText>
                            </TitleContent>
                            <ChildContent>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    Messages are automatically scanned by both automated systems and human moderators for legal compliance, 
                                    safety, and platform security. This monitoring helps protect all users and ensures legal compliance.
                                </MudText>
                                <MudText Typo="Typo.body1" Class="mb-3">
                                    Suspicious content may be reported to appropriate authorities as required by law. By using our messaging 
                                    system, you consent to this monitoring for safety and legal compliance purposes.
                                </MudText>
                                <MudText Typo="Typo.body1">
                                    Messages are stored securely and accessed only as necessary for platform operation and legal obligations. 
                                    We respect your privacy while maintaining necessary safety and legal compliance measures.
                                </MudText>
                            </ChildContent>
                        </MudExpansionPanel>
                    </MudExpansionPanels>
                </MudPaper>
            </div>

            <!-- Contact Support -->
            <MudPaper Elevation="4" Class="pa-6 mb-6">
                <div class="d-flex align-center mb-4">
                    <MudIcon Icon="@Icons.Material.Filled.Support" Color="Color.Primary" Class="mr-3" Style="font-size: 2rem;" />
                    <MudText Typo="Typo.h4" Color="Color.Primary">Need More Help?</MudText>
                </div>

                <MudGrid>
                    <MudItem xs="12" md="4">
                        <MudPaper Elevation="2" Class="pa-4 text-center" Style="height: 100%;">
                            <MudIcon Icon="@Icons.Material.Filled.Email" Color="Color.Primary" Style="font-size: 3rem;" />
                            <MudText Typo="Typo.h6" Class="mt-2 mb-2">Email Support</MudText>
                            <MudText Typo="Typo.body2" Class="mb-3">Get help with any questions or issues</MudText>
                            <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Email">
                                support@neighbortools.com
                            </MudButton>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="12" md="4">
                        <MudPaper Elevation="2" Class="pa-4 text-center" Style="height: 100%;">
                            <MudIcon Icon="@Icons.Material.Filled.Chat" Color="Color.Primary" Style="font-size: 3rem;" />
                            <MudText Typo="Typo.h6" Class="mt-2 mb-2">Live Chat</MudText>
                            <MudText Typo="Typo.body2" Class="mb-3">Available Monday-Friday 9AM-6PM</MudText>
                            <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Chat">
                                Start Chat
                            </MudButton>
                        </MudPaper>
                    </MudItem>

                    <MudItem xs="12" md="4">
                        <MudPaper Elevation="2" Class="pa-4 text-center" Style="height: 100%;">
                            <MudIcon Icon="@Icons.Material.Filled.Forum" Color="Color.Primary" Style="font-size: 3rem;" />
                            <MudText Typo="Typo.h6" Class="mt-2 mb-2">Community Forum</MudText>
                            <MudText Typo="Typo.body2" Class="mb-3">Connect with other users and share tips</MudText>
                            <MudButton Variant="Variant.Outlined" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Forum">
                                Visit Forum
                            </MudButton>
                        </MudPaper>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudItem>
    </MudGrid>
</MudContainer>

@code {
    private async Task ScrollToSection(string sectionId)
    {
        await JSRuntime.InvokeVoidAsync("scrollToElement", sectionId);
    }
}

<script>
    window.scrollToElement = (elementId) => {
        const element = document.getElementById(elementId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    };
</script>